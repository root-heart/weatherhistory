<main>
    <section class="chart-tile" id="temperature">
        <h1>Temperatur</h1>

<!--        <div class="summary">-->
<!--            <span>&#x2b9f; {{filterService.currentData?.value?.summary?.airTemperatureCentigrade?.min?.toFixed(1)}}-->
<!--                °C</span>-->
<!--            <span>&#x25CF;</span>-->
<!--            <span>&#8960; {{filterService.currentData?.value?.summary?.airTemperatureCentigrade?.avg?.toFixed(1)}}-->
<!--                °C</span>-->
<!--            <span>&#x25CF;</span>-->
<!--            <span>&#x2b9d; {{filterService.currentData?.value?.summary?.airTemperatureCentigrade?.max?.toFixed(1)}}-->
<!--                °C</span>-->
<!--        </div>-->

        <min-avg-max-chart #temperatureChart class="chart" [dataSource]="filterService.currentData"
                           [property]="'airTemperatureCentigrade'"
                           [color]="'hsl(0, 80%, 45%)'" [fill]="'hsla(0, 80%, 45%, 0.3)'"></min-avg-max-chart>

    </section>

    <section class="chart-tile">
        <h1>Sonnenschein</h1>

<!--        <div class="summary">-->
<!--            &#931; {{divideBy60(filterService.currentData?.value?.summary?.sunshineMinutes?.sum)?.toFixed(1)}}h-->
<!--            &#8960; {{divideBy60(filterService.currentData?.value?.summary?.sunshineMinutes?.sum)?.toFixed(1)}}h-->
<!--        </div>-->

        <sum-chart class="chart" [fill]="'hsl(40, 100%, 50%)'" [sum]="'sunshineMinutes'"
                   [dataSource]="filterService.currentData" [valueConverter]="divideBy60"></sum-chart>

    </section>

    <section class="chart-tile">
        <h1>Niederschlag</h1>

        <div class="summary">
            <fa-icon [icon]="faRain"></fa-icon>
            {{filterService.currentData?.value?.summary?.rainfallMillimeters?.sum?.toFixed(1)}}l/m²
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            <fa-icon [icon]="faSnow"></fa-icon>
            {{filterService.currentData?.value?.summary?.snowfallMillimeters?.sum?.toFixed(1)}}mm
        </div>

        <sum-chart class="chart" [fill]="'hsl(240, 100%, 50%)'" [fill2]="'hsl(40, 0%, 80%)'"
                   [sum]="'rainfallMillimeters'"
                   [dataSource]="filterService.currentData"></sum-chart>
    </section>

    <section class="chart-tile">
        <h1>Wind</h1>

        <div class="summary">
            &#8960; {{filterService.currentData?.value?.summary?.windSpeedMetersPerSecond?.avg?.toFixed(1)}}m/s
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            &#x2b9d; {{filterService.currentData?.value?.summary?.windSpeedMetersPerSecond?.max?.toFixed(1)}}m/s
        </div>

        <min-avg-max-chart class="chart" [color]="'hsl(270, 80%, 65%)'" [fill]="'hsla(270, 80%, 65%, 0.3)'"
                           [property]="'windSpeedMetersPerSecond'"
                           [dataSource]="filterService.currentData"></min-avg-max-chart>
    </section>


    <section class="chart-tile">
        <h1>Windrichtung</h1>


        <div></div>
    </section>

    <section class="chart-tile">
        <h1>Luftfeuchtigkeit</h1>

        <div class="summary">
            &#x2b9f; {{filterService.currentData?.value?.summary?.humidityPercent?.min?.toFixed(1)}}%
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            &#8960; {{filterService.currentData?.value?.summary?.humidityPercent?.avg?.toFixed(1)}}%
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            &#x2b9d; {{filterService.currentData?.value?.summary?.humidityPercent?.max?.toFixed(1)}}%
        </div>

        <min-avg-max-chart class="chart" [color]="'hsl(220, 80%, 30%)'" [fill]="'hsla(220, 80%, 30%, 0.3)'"
                           [property]="'humidityPercent'" [dataSource]="filterService.currentData"></min-avg-max-chart>
    </section>

    <section class="chart-tile">
        <h1>Taupunkt</h1>

        <div class="summary">
            &#x2b9f; {{filterService.currentData?.value?.summary?.dewPointTemperatureCentigrade?.min?.toFixed(1)}}°C
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            &#8960; {{filterService.currentData?.value?.summary?.dewPointTemperatureCentigrade?.avg?.toFixed(1)}}°C
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            &#x2b9d; {{filterService.currentData?.value?.summary?.dewPointTemperatureCentigrade?.max?.toFixed(1)}}°C
        </div>

        <min-avg-max-chart class="chart" [color]="'hsl(220, 80%, 70%)'" [fill]="'hsla(220, 80%, 70%, 0.3)'"
                           [property]="'dewPointTemperatureCentigrade'"
                           [dataSource]="filterService.currentData"></min-avg-max-chart>
    </section>

    <section class="chart-tile">
        <h1>Luftdruck</h1>

        <div class="summary">
            &#x2b9f; {{filterService.currentData?.value?.summary?.airPressureHectopascals?.min?.toFixed(1)}}hPa
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            &#8960; {{filterService.currentData?.value?.summary?.airPressureHectopascals?.avg?.toFixed(1)}}hPa
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            &#x2b9d; {{filterService.currentData?.value?.summary?.airPressureHectopascals?.max?.toFixed(1)}}hPa
        </div>

        <min-avg-max-chart class="chart" [color]="'hsl(120, 80%, 45%)'" [fill]="'hsla(120, 80%, 45%, 0.15)'"
                           [property]="'airPressureHectopascals'" [includeZero]=false
                           [dataSource]="filterService.currentData"></min-avg-max-chart>
    </section>

    <section class="chart-tile">
        <h1>Sichtweite</h1>

        <div class="summary">
            &#x2b9f; {{filterService.currentData?.value?.summary?.visibilityMeters?.min?.toFixed(0)}}m
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            &#8960; {{filterService.currentData?.value?.summary?.visibilityMeters?.avg?.toFixed(0)}}m
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            &#x2b9d; {{filterService.currentData?.value?.summary?.visibilityMeters?.max?.toFixed(0)}}m
        </div>

        <min-avg-max-chart class="chart" [color]="'hsl(0, 0%, 70%)'" [fill]="'hsla(0, 0%, 70%, 0.3)'"
                           [logarithmic]="true" [dataSource]="filterService.currentData"
                           [ticks]="[{value: 10, label: '10'}, {value: 100, label: '100'}, {value: 1000, label: '1km'}, {value: 10000, label: '10km'}, {value: 100000, label: '100km'}]"
                           [property]="'visibilityMeters'"></min-avg-max-chart>
    </section>

    <section class="chart-tile">
        <h1>Bewölkung</h1>

        <div class="summary">
            <fa-icon [icon]="faSun"></fa-icon>
            {{percentageOfCloudCoverage(filterService.currentData?.value?.summary?.cloudCoverageHistogram, [0, 1, 2])}}
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            <fa-icon [icon]="faCloudSun"></fa-icon>
            {{percentageOfCloudCoverage(filterService.currentData?.value?.summary?.cloudCoverageHistogram, [3, 4, 5])}}
            &nbsp;&nbsp;&#x25CF;&nbsp;&nbsp;
            <fa-icon [icon]="faCloud"></fa-icon>
            {{percentageOfCloudCoverage(filterService.currentData?.value?.summary?.cloudCoverageHistogram, [6, 7, 8, 9])}}
        </div>

        <histogram-chart [dataSource]="filterService.currentData" class="chart"></histogram-chart>
    </section>
</main>
