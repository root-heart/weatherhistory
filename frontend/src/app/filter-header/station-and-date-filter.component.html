<div style="position: relative" style="position: relative"
     (keydown.enter)="stationsPopupVisible = true"
     (keydown.arrowDown)="stationsPopupVisible = true"
     (keydown.escape)="stationsPopupVisible = false; dropdown.focus()">
    <div class="textInputElement dropdownBox" tabindex="1"
         (click)="stationsPopupVisible = !stationsPopupVisible"
         #dropdown>
        <div *ngIf="station">{{station.federalState}} / {{station.name}}</div>
        <div *ngIf="!station">Wetterstation</div>
    </div>
    <div class="dropdownPanel"
         *ngIf="stationsPopupVisible">
        {{stationsFilterInput.focus()}}
        <input type="text" placeholder="Filtern" (input)="filterStations(stationsFilterInput.value)"
               [formControl]="filterInput" #stationsFilterInput>
        <ul class="selectionList">
            <li *ngFor="let station of filteredStations">
                <div class="selectItem" (click)="log('click'); selectStation(station)"> {{station.name}}</div>
            </li>
        </ul>
    </div>
</div>

<input type="number" placeholder="Von" min="1900" max="2022" [formControl]="fromYear"
       (change)="fireFilterChangedEvent()">
<input type="number" placeholder="Bis" min="1900" max="2022" [formControl]="toYear"
       (change)="fireFilterChangedEvent()">
